<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Seller - 9XV4 TR4SH</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #ff3333;
            --secondary-color: #1a0000;
            --accent-color: #4a0000;
            --text-color: #f0f2f5;
            --dark-bg: #000000;
            --glow-color: #cc0000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #1a0000 0%, #4a0000 100%);
            border-radius: 15px;
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(255, 51, 51, 0.5);
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 36px;
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--glow-color);
            letter-spacing: 2px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(135deg, #1a0000 0%, #4a0000 100%);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 15px rgba(255, 51, 51, 0.3);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(255, 51, 51, 0.5);
        }

        .card h2 {
            font-family: 'Orbitron', sans-serif;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 22px;
            border-bottom: 1px solid rgba(255, 51, 51, 0.3);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #ff9999;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255, 51, 51, 0.3);
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(255, 51, 51, 0.5);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: var(--dark-bg);
            box-shadow: 0 0 15px rgba(255, 51, 51, 0.5);
        }

        .btn-primary:hover {
            background: #ff5555;
            box-shadow: 0 0 20px #ff5555;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #cc0000;
            color: white;
        }

        .btn-danger:hover {
            background: #ff0000;
            transform: translateY(-2px);
        }

        .order-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }

        .order-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .order-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-pending {
            background: #ff9900;
            color: black;
        }

        .status-completed {
            background: #00cc00;
            color: black;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #ff9999;
        }

        .empty-state i {
            font-size: 50px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .history-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 51, 51, 0.3);
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .order-info {
                flex-direction: column;
            }
            
            .history-controls {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-user-shield"></i> SELLER PANEL - 9XV4 TR4SH</h1>
            <p>Kelola Pesanan dan Kirim Data Akun</p>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <div class="history-controls">
                    <h2><i class="fas fa-tasks"></i> Daftar Pesanan</h2>
                    <button class="btn btn-danger" onclick="clearAllHistory()">
                        <i class="fas fa-trash"></i> Hapus Semua Riwayat
                    </button>
                </div>
                <div id="orders-list">
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3>Belum Ada Pesanan</h3>
                        <p>Pesanan dari pembeli akan muncul di sini</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-paper-plane"></i> Kirim Data Akun</h2>
                <form id="send-account-form">
                    <div class="form-group">
                        <label for="order-id">Pilih Pesanan:</label>
                        <select id="order-id" required>
                            <option value="">-- Pilih Pesanan --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="account-username">Username Akun:</label>
                        <input type="text" id="account-username" required placeholder="Masukkan username">
                    </div>
                    <div class="form-group">
                        <label for="account-password">Password Akun:</label>
                        <input type="text" id="account-password" required placeholder="Masukkan password">
                    </div>
                    <div class="form-group">
                        <label for="account-domain">Domain Akun:</label>
                        <input type="text" id="account-domain" required placeholder="Masukkan domain (contoh: example.com)">
                    </div>
                    <div class="form-group">
                        <label for="account-notes">Catatan Tambahan:</label>
                        <textarea id="account-notes" rows="3" placeholder="Informasi tambahan tentang akun"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i> Kirim Data Akun
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Simpan data pesanan di localStorage
        function saveOrders(orders) {
            localStorage.setItem('panelOrders', JSON.stringify(orders));
        }

        // Ambil data pesanan dari localStorage
        function getOrders() {
            const orders = localStorage.getItem('panelOrders');
            return orders ? JSON.parse(orders) : [];
        }

        // Hapus pesanan berdasarkan index
        function deleteOrder(index) {
            const orders = getOrders();
            if (confirm('Apakah Anda yakin ingin menghapus pesanan ini?')) {
                orders.splice(index, 1);
                saveOrders(orders);
                updateOrdersList();
            }
        }

        // Hapus semua riwayat
        function clearAllHistory() {
            if (confirm('Apakah Anda yakin ingin menghapus SEMUA riwayat pesanan? Tindakan ini tidak dapat dibatalkan!')) {
                saveOrders([]);
                updateOrdersList();
            }
        }

        // Update daftar pesanan
        function updateOrdersList() {
            const orders = getOrders();
            const ordersList = document.getElementById('orders-list');
            const orderSelect = document.getElementById('order-id');
            
            // Kosongkan select
            orderSelect.innerHTML = '<option value="">-- Pilih Pesanan --</option>';
            
            if (orders.length === 0) {
                ordersList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3>Belum Ada Pesanan</h3>
                        <p>Pesanan dari pembeli akan muncul di sini</p>
                    </div>
                `;
                return;
            }
            
            // Tampilkan daftar pesanan
            ordersList.innerHTML = '';
            orders.forEach((order, index) => {
                const orderElement = document.createElement('div');
                orderElement.className = 'order-item';
                orderElement.innerHTML = `
                    <div class="order-info">
                        <div>
                            <strong>${order.buyerName || 'Unknown Buyer'}</strong><br>
                            <small>Email: ${order.buyerEmail || 'N/A'}</small><br>
                            <small>Panel: ${order.panelSize || 'N/A'} - Rp ${order.panelPrice ? parseInt(order.panelPrice).toLocaleString('id-ID') : '0'}</small>
                        </div>
                        <div>
                            <span class="status ${order.status === 'completed' ? 'status-completed' : 'status-pending'}">
                                ${order.status === 'completed' ? 'SELESAI' : 'MENUNGGU'}
                            </span>
                        </div>
                    </div>
                    <div>
                        <strong>Bukti Transfer:</strong><br>
                        ${order.proofImage ? `<img src="${order.proofImage}" style="max-width: 100px; margin-top: 5px; border-radius: 5px;">` : 'Tidak ada gambar'}
                    </div>
                    ${order.accountData ? `
                    <div style="margin-top: 10px; padding: 10px; background: rgba(0,255,0,0.1); border-radius: 5px;">
                        <strong>Data Akun Terkirim:</strong><br>
                        Username: ${order.accountData.username}<br>
                        Password: ${order.accountData.password}<br>
                        Domain: ${order.accountData.domain}<br>
                        ${order.accountData.notes ? `Catatan: ${order.accountData.notes}` : ''}
                    </div>
                    ` : ''}
                    <div class="order-actions">
                        <button class="btn btn-danger" onclick="deleteOrder(${index})">
                            <i class="fas fa-trash"></i> Hapus Riwayat
                        </button>
                    </div>
                `;
                ordersList.appendChild(orderElement);
                
                // Tambahkan ke select jika status masih pending
                if (order.status !== 'completed') {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `Pesanan dari: ${order.buyerName || 'Unknown'} - ${order.panelSize || 'Unknown Panel'}`;
                    orderSelect.appendChild(option);
                }
            });
        }

        // Kirim data akun ke pembeli
        document.getElementById('send-account-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const orderIndex = parseInt(document.getElementById('order-id').value);
            const username = document.getElementById('account-username').value;
            const password = document.getElementById('account-password').value;
            const domain = document.getElementById('account-domain').value;
            const notes = document.getElementById('account-notes').value;
            
            if (isNaN(orderIndex)) {
                alert('Pilih pesanan terlebih dahulu!');
                return;
            }
            
            const orders = getOrders();
            if (orderIndex >= orders.length) {
                alert('Pesanan tidak valid!');
                return;
            }
            
            // Update data pesanan
            orders[orderIndex].accountData = {
                username: username,
                password: password,
                domain: domain,
                notes: notes,
                sentAt: new Date().toISOString()
            };
            orders[orderIndex].status = 'completed';
            
            // Simpan dan update tampilan
            saveOrders(orders);
            updateOrdersList();
            
            // Reset form
            this.reset();
            
            alert('Data akun berhasil dikirim ke pembeli!');
        });

        // Auto refresh setiap 5 detik untuk update pesanan baru
        function autoRefresh() {
            updateOrdersList();
            setTimeout(autoRefresh, 5000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateOrdersList();
            autoRefresh();
        });
    </script>
</body>
</html>
